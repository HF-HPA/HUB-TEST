<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HF / HPA Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    /* ====== BASIC RESET ====== */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #020617;
      color: #e5e7eb;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: stretch;
      padding: 16px;
    }
    button { font-family: inherit; cursor: pointer; }

    /* ====== LAYOUT ====== */
    .hidden { display: none !important; }

    .shell {
      width: 100%;
      max-width: 1200px;
      background: #020617;
      border-radius: 20px;
      border: 1px solid #1f2937;
      box-shadow: 0 18px 50px rgba(0,0,0,0.7);
      padding: 16px 18px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    header.app-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
    .app-title { font-size: 1.4rem; font-weight: 600; }
    .app-sub { font-size: 0.8rem; color: #9ca3af; }

    .pill {
      border-radius: 999px;
      border: 1px solid #4b5563;
      padding: 6px 12px;
      font-size: 0.75rem;
      color: #9ca3af;
    }

    /* ====== GENERIC UI PIECES ====== */
    .centered {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
      padding: 32px 16px;
      text-align: center;
    }

    .title { font-size: 1.7rem; font-weight: 700; margin-bottom: 4px; }
    .subtitle { font-size: 0.95rem; color: #9ca3af; }

    .btn {
      border-radius: 999px;
      border: 1px solid #4b5563;
      padding: 10px 18px;
      background: #0f172a;
      color: #e5e7eb;
      font-size: 0.9rem;
      transition: background 0.15s, border-color 0.15s, transform 0.15s;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .btn.primary {
      background: linear-gradient(135deg, #06b6d4, #3b82f6);
      border-color: #0ea5e9;
      color: #020617;
      font-weight: 600;
    }
    .btn:hover {
      transform: translateY(-1px);
      background: #111827;
    }
    .btn.primary:hover {
      background: linear-gradient(135deg, #0ea5e9, #2563eb);
    }

    .grid {
      display: grid;
      gap: 12px;
    }
    @media (min-width: 640px) {
      .grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .grid.cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }

    .card {
      background: #020617;
      border-radius: 16px;
      border: 1px solid #1f2937;
      padding: 16px;
      text-align: left;
      transition: border-color 0.15s, transform 0.15s, box-shadow 0.15s;
    }
    .card.clickable { cursor: pointer; }
    .card.clickable:hover {
      border-color: #22d3ee;
      transform: translateY(-2px);
      box-shadow: 0 14px 36px rgba(0,0,0,0.8);
    }
    .card-title { font-size: 1rem; font-weight: 600; margin-bottom: 4px; }
    .card-sub { font-size: 0.85rem; color: #9ca3af; }

    .section-header {
      margin-bottom: 10px;
    }
    .section-title { font-size: 1.1rem; font-weight: 600; }
    .section-sub { font-size: 0.85rem; color: #9ca3af; }

    /* Tabs (generic, for multiple groups) */
    .tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
      border-bottom: 1px solid #111827;
      padding-bottom: 4px;
    }
    .tab {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid transparent;
      background: #0b1120;
      color: #9ca3af;
      font-size: 0.85rem;
    }
    .tab.active {
      background: #0369a1;
      color: #f9fafb;
      border-color: #0ea5e9;
    }

    .page-toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }
    .breadcrumbs {
      font-size: 0.75rem;
      color: #9ca3af;
    }

    .footer {
      margin-top: 10px;
      font-size: 0.75rem;
      color: #6b7280;
      text-align: right;
    }

    /* Simple content box */
    .panel {
      border-radius: 14px;
      border: 1px solid #1f2937;
      background: #020617;
      padding: 12px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <main class="shell">
    <header class="app-header">
      <div>
        <div class="app-title">HF / HPA Portal</div>
        <div class="app-sub">Login ‚Üí Company Hub ‚Üí HF / HPA / ADMIN pages</div>
      </div>
      <div id="headerPill" class="pill">Internal tool ‚Ä¢ v1.0</div>
    </header>

    <!-- =========================================================
         SCREEN 1 ‚Äì LOGIN (Role selection)
         ========================================================= -->
    <section id="screen-login" class="centered">
      <div>
        <div class="title">Select Your Role</div>
        <div class="subtitle">Merchandiser, Field Supervisor, District Supervisor, or Regional MM.</div>
      </div>

      <div class="grid cols-2" style="margin-top: 12px; max-width: 460px;">
        <button class="card clickable" data-role="Merchandiser">
          <div class="card-title">Merchandiser</div>
          <div class="card-sub">Daily in-store merch, watering, resets.</div>
        </button>
        <button class="card clickable" data-role="Field Supervisor">
          <div class="card-title">Field Supervisor</div>
          <div class="card-sub">Oversees stores & execution across a territory.</div>
        </button>
        <button class="card clickable" data-role="District Supervisor">
          <div class="card-title">District Supervisor</div>
          <div class="card-sub">District oversight, inventory & performance.</div>
        </button>
        <button class="card clickable" data-role="Regional Merchandising Manager">
          <div class="card-title">Regional Merchandising Manager</div>
          <div class="card-sub">Regional strategy, claims & reporting.</div>
        </button>
      </div>
    </section>

    <!-- =========================================================
         SCREEN 2 ‚Äì COMPANY HUB (HF / HPA / ADMIN)
         ========================================================= -->
    <section id="screen-hub" class="centered hidden">
      <div>
        <div class="title" id="hubTitle">Welcome</div>
        <div class="subtitle">
          Choose which part of the business you want to work in: HF, HPA, or ADMIN.
        </div>
      </div>

      <div class="grid cols-3" style="margin-top: 12px; width: 100%;">
        <button class="card clickable" data-company="hf">
          <div class="card-title">HF</div>
          <div class="card-sub">House plants: SKUs, care, and references for the floor.</div>
        </button>
        <button class="card clickable" data-company="hpa">
          <div class="card-title">HPA</div>
          <div class="card-sub">HPA-specific product info & care for seasonal/indoor programs.</div>
        </button>
        <button class="card clickable" data-company="admin">
          <div class="card-title">ADMIN</div>
          <div class="card-sub">Store Operations, protocols, damage flows, store visit tools.</div>
        </button>
      </div>

      <button id="backToLogin" class="btn" style="margin-top: 12px;">‚¨Ö Back to role selection</button>
    </section>

    <!-- =========================================================
         SCREEN 3 ‚Äì APP PAGES (HF / HPA / ADMIN)
         ========================================================= -->
    <section id="screen-app" class="hidden">
      <div class="page-toolbar">
        <div>
          <div class="breadcrumbs" id="crumbs">Role ¬∑ Company</div>
          <div class="app-title" id="pageTitle">Page Title</div>
        </div>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <button id="btnBackToHub" class="btn">‚¨Ö Company Hub</button>
          <button id="btnSwitchRole" class="btn">üë§ Switch Role</button>
        </div>
      </div>

      <!-- ========== HF PAGE (NO Store Operations here) ========== -->
      <section id="page-hf" class="app-page hidden">
        <div class="section-header">
          <div class="section-title">HF ‚Äì Houseplant Tools</div>
          <div class="section-sub">Product Info + Care & Identification for HF.</div>
        </div>

        <!-- HF Tabs: Product Info, Care & ID -->
        <nav class="tabs">
          <button class="tab active"
                  data-tab-group="hf"
                  data-tab-target="hf-product">
            üì¶ Product Info
          </button>
          <button class="tab"
                  data-tab-group="hf"
                  data-tab-target="hf-care">
            üåø Care & Identification
          </button>
        </nav>

        <!-- HF PRODUCT INFO PANEL -->
        <section id="hf-product" data-tab-panel="hf">
          <div class="panel">
            <div class="section-header">
              <div class="section-title">Product Info</div>
              <div class="section-sub">SKU catalogue, weekly ship info, etc.</div>
            </div>
            <!--
              üëâ Copy your existing "Product Info" tab here (from the old file),
              e.g. controls + SKU grid + Order Breakdown table.

              You can literally paste:
                - the SKU filters
                - SKU cards
                - Weekly Shipping Overview
            -->
            <p style="font-size:0.85rem; color:#9ca3af;">
              Placeholder: Paste your existing HF/HPA Product Info (SKU + Orders) content here.
            </p>
          </div>
        </section>

        <!-- HF CARE & ID PANEL -->
        <section id="hf-care" data-tab-panel="hf" class="hidden">
          <div class="panel">
            <div class="section-header">
              <div class="section-title">Care & Identification</div>
              <div class="section-sub">Use this for plant care and basic ID while on the floor.</div>
            </div>
            <!--
              üëâ Copy your existing "Care & Identification" tab here:
                - Care Library (plants)
                - Pest Identification
            -->
            <p style="font-size:0.85rem; color:#9ca3af;">
              Placeholder: Paste your existing Care Library + Pest ID content here (plant cards, pest cards, popups).
            </p>
          </div>
        </section>
      </section>

      <!-- ========== HPA PAGE (NO Store Operations here) ========== -->
      <section id="page-hpa" class="app-page hidden">
        <div class="section-header">
          <div class="section-title">HPA ‚Äì Program Tools</div>
          <div class="section-sub">HPA-focused product and care tools.</div>
        </div>

        <!-- HPA Tabs: Product Info, Care & ID -->
        <nav class="tabs">
          <button class="tab active"
                  data-tab-group="hpa"
                  data-tab-target="hpa-product">
            üì¶ Product Info
          </button>
          <button class="tab"
                  data-tab-group="hpa"
                  data-tab-target="hpa-care">
            üåø Care & Identification
          </button>
        </nav>

        <section id="hpa-product" data-tab-panel="hpa">
          <div class="panel">
            <div class="section-header">
              <div class="section-title">Product Info</div>
              <div class="section-sub">
                HPA-specific SKU catalogue & ship weeks (can reuse same components as HF).
              </div>
            </div>
            <!--
              üëâ Optional: either reuse the same Product Info block as HF or
                 make it HPA-specific. Paste your code from the original file.
            -->
            <p style="font-size:0.85rem; color:#9ca3af;">
              Placeholder: Paste your HPA Product Info content here (could be identical to HF's Product Info).
            </p>
          </div>
        </section>

        <section id="hpa-care" data-tab-panel="hpa" class="hidden">
          <div class="panel">
            <div class="section-header">
              <div class="section-title">Care & Identification</div>
              <div class="section-sub">HPA plant care and pest tools.</div>
            </div>
            <!--
              üëâ Reuse Care Library / Pest ID here if HPA needs its own version,
                 or simplify to just quick references.
            -->
            <p style="font-size:0.85rem; color:#9ca3af;">
              Placeholder: Paste your HPA Care & Identification content here.
            </p>
          </div>
        </section>
      </section>

      <!-- ========== ADMIN PAGE (Store Operations moved here) ========== -->
      <section id="page-admin" class="app-page hidden">
        <div class="section-header">
          <div class="section-title">ADMIN ‚Äì Store Operations</div>
          <div class="section-sub">
            HPA protocols, damage flows, store visit checklist and picture standards.
          </div>
        </div>

        <!-- ADMIN Tabs ‚Äì all Store Ops lives here now -->
        <nav class="tabs">
          <button class="tab active"
                  data-tab-group="admin"
                  data-tab-target="admin-protocols">
            üõ† HPA Protocols
          </button>
          <button class="tab"
                  data-tab-group="admin"
                  data-tab-target="admin-visit">
            üìù Store Visit
          </button>
        </nav>

        <!-- ADMIN ‚Üí HPA PROTOCOLS (Damage, Non-order, Inventory, BI, Pictures) -->
        <section id="admin-protocols" data-tab-panel="admin">
          <div class="panel">
            <div class="section-header">
              <div class="section-title">HPA Protocols</div>
              <div class="section-sub">
                Damage claims, non-order day protocol, weekly inventory, BI, and picture standards.
              </div>
            </div>

            <!--
              üëâ Here you can drop the entire "STORE OPERATIONS ‚Üí HPA Protocols"
                 section from your original file:

                 - Damage Claims (Cold / Pest flow lists)
                 - Non-Order Days
                 - Weekly Inventory
                 - BI / Reporting
                 - Picture Standards

              You can keep the inner subtabs if you like, or simplify.
            -->
            <p style="font-size:0.85rem; color:#9ca3af;">
              Placeholder: Paste your full HPA Protocols content (damage flows, non-order, inventory, BI, picture standards)
              from the old "Store Operations" tab here.
            </p>
          </div>
        </section>

        <!-- ADMIN ‚Üí STORE VISIT CHECKLIST -->
        <section id="admin-visit" data-tab-panel="admin" class="hidden">
          <div class="panel">
            <div class="section-header">
              <div class="section-title">Store Visit Checklist (Indoor)</div>
              <div class="section-sub">
                Use during store walks. Export summary at the end if desired.
              </div>
            </div>

            <!--
              üëâ Paste your "Store Operations ‚Üí Store Visit" section here:

                 - Store metadata (store #, date, rep)
                 - Store Walk / Pod Merchandising / Clean Up / Pictures subtabs
                 - Visit notes + Export Visit Summary button

              You can reuse all the checklist HTML and the export JS.
            -->
            <p style="font-size:0.85rem; color:#9ca3af;">
              Placeholder: Paste your full Store Visit Checklist UI from the original "Store Operations" tab here.
            </p>
          </div>
        </section>
      </section>

      <div class="footer">
        HF/HPA Portal ‚Ä¢ Layout refactor: Login ‚Üí Hub ‚Üí HF / HPA / ADMIN ‚Ä¢ Store Ops moved to ADMIN
      </div>
    </section>
  </main>

  <script>
    // Simple front-end "router" for Role ‚Üí Hub ‚Üí Page
    const state = {
      role: null,
      company: null
    };

    const screenLogin = document.getElementById("screen-login");
    const screenHub   = document.getElementById("screen-hub");
    const screenApp   = document.getElementById("screen-app");

    const hubTitle    = document.getElementById("hubTitle");
    const headerPill  = document.getElementById("headerPill");
    const crumbs      = document.getElementById("crumbs");
    const pageTitle   = document.getElementById("pageTitle");

    const btnBackToHub   = document.getElementById("btnBackToHub");
    const btnSwitchRole  = document.getElementById("btnSwitchRole");
    const backToLogin    = document.getElementById("backToLogin");

    function showScreen(name) {
      screenLogin.classList.add("hidden");
      screenHub.classList.add("hidden");
      screenApp.classList.add("hidden");
      if (name === "login")  screenLogin.classList.remove("hidden");
      if (name === "hub")    screenHub.classList.remove("hidden");
      if (name === "app")    screenApp.classList.remove("hidden");
    }

    function updateHeader() {
      const role = state.role || "Unknown role";
      const company = state.company || "‚Äî";
      crumbs.textContent = role + " ¬∑ " + company.toUpperCase();
      pageTitle.textContent = company.toUpperCase() + " Page";
      headerPill.textContent = `Internal tool ‚Ä¢ ${role}`;
    }

    function onRoleSelected(role) {
      state.role = role;
      state.company = null;
      hubTitle.textContent = `Welcome, ${role}`;
      showScreen("hub");
      headerPill.textContent = `Internal tool ‚Ä¢ ${role}`;
    }

    function onCompanySelected(company) {
      state.company = company;
      showScreen("app");
      updateHeader();

      // Show correct app page
      document.querySelectorAll(".app-page").forEach(p => p.classList.add("hidden"));
      const page = document.getElementById("page-" + company);
      if (page) page.classList.remove("hidden");

      // Reset tabs inside that page to first tab as active
      resetTabsForCompany(company);
    }

    function resetTabsForCompany(company) {
      const group = company; // using same key for data-tab-group
      const firstTab = document.querySelector(`.tab[data-tab-group="${group}"]`);
      if (!firstTab) return;

      // deactivate all tabs in group
      document.querySelectorAll(`.tab[data-tab-group="${group}"]`)
        .forEach(t => t.classList.remove("active"));
      firstTab.classList.add("active");

      // hide all panels in group
      const targetId = firstTab.dataset.tabTarget;
      document.querySelectorAll(`[data-tab-panel="${group}"]`)
        .forEach(p => p.classList.add("hidden"));
      if (targetId) {
        const panel = document.getElementById(targetId);
        if (panel) panel.classList.remove("hidden");
      }
    }

    // Role cards
    document.querySelectorAll('#screen-login [data-role]').forEach(card => {
      card.addEventListener("click", () => {
        const role = card.dataset.role;
        onRoleSelected(role);
      });
    });

    // Company cards
    document.querySelectorAll('#screen-hub [data-company]').forEach(card => {
      card.addEventListener("click", () => {
        const company = card.dataset.company;
        onCompanySelected(company);
      });
    });

    // Hub/back buttons
    backToLogin.addEventListener("click", () => {
      state.role = null;
      state.company = null;
      showScreen("login");
      headerPill.textContent = "Internal tool ‚Ä¢ v1.0";
    });

    btnBackToHub.addEventListener("click", () => {
      state.company = null;
      showScreen("hub");
    });

    btnSwitchRole.addEventListener("click", () => {
      state.role = null;
      state.company = null;
      showScreen("login");
      headerPill.textContent = "Internal tool ‚Ä¢ v1.0";
    });

    // Generic tab handler (works for HF, HPA, ADMIN)
    document.addEventListener("click", (e) => {
      const tab = e.target.closest(".tab[data-tab-group][data-tab-target]");
      if (!tab) return;

      const group = tab.dataset.tabGroup;
      const targetId = tab.dataset.tabTarget;

      // Activate clicked tab
      document.querySelectorAll(`.tab[data-tab-group="${group}"]`)
        .forEach(t => t.classList.remove("active"));
      tab.classList.add("active");

      // Show matching panel
      document.querySelectorAll(`[data-tab-panel="${group}"]`)
        .forEach(p => p.classList.add("hidden"));

      const panel = document.getElementById(targetId);
      if (panel) panel.classList.remove("hidden");
    });

    // Initial screen
    showScreen("login");
  </script>
</body>
</html>
